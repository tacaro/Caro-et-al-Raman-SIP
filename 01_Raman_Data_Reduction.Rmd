---
title: "01_Raman_Data_Reduction"
author: "Tristan Caro"
date: "`r Sys.Date()`"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Setup

## Clear the environment

```{r}
rm(list=ls())
```


## Load Libraries

```{r}
require(tidyverse)
require(ggdist)
require(latex2exp)
```

## Load Source

```{r}
source(file = "source/read_raman_file.R")
source(file = "source/plot_raman.R")
source(file = "source/calculate_CD.R")
```

## Load Raman data from .txt

```{r, message = FALSE}
# Prepare list of Raman files
txt_file_list = list.files(
  path = "data/Raman/txt_files",
  pattern = "*.txt"
  )

raman_data <- tibble()
raman_data <- raman_data[-1,]


# Read in all Raman files (this will take a moment)
i = 0
for (txt in txt_file_list) {
  txt_file_len <- length(txt_file_list)
  temp <- read_raman_file(paste0("data/Raman/txt_files/", txt))
  temp <- temp %>% mutate(directory = txt)
  raman_data <- bind_rows(raman_data, temp)
  i <- i + 1
  print(paste0("File ", i, " out of ", txt_file_len, " loaded."))

}
```

